$(".recent-works .thumbnail > .image").on("resize",function(){$(".recent-works .thumbnail > .image").height($(".recent-works .thumbnail > .image").width()/1.6)}).resize();var divs=$("i.random").get().sort(function(){return Math.round(Math.random())-.5}).slice(0,1);$(divs).show();var divs=$("i.random2").get().sort(function(){return Math.round(Math.random())-.5}).slice(0,1);$(divs).show();var divs=$("i.random3").get().sort(function(){return Math.round(Math.random())-.5}).slice(0,1);$(divs).show(),$(".crp-ft").hover(function(){return $(this).children("a").toggleClass("show hidden"),$(this).children("a").toggleClass("animated flipInX"),!1}),$(window).on("scroll",function(){var a,b;return a=window.pageYOffset,b=a/2,$(".parallax").css({transform:"translateY("+-1*b+"px)"})}),$("#teaser").click(function(){$("html, body").animate({scrollTop:$("#product").offset().top},500)}),$("a").click(function(){var a=$.attr(this,"href");if("#"!==a)return a.indexOf("#")>=0?($("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500),!1):void 0}),$(document).ready(function(){"undefined"!=typeof $.cookie("token")?($("#sign-up-xs").addClass("hidden"),$("#sign-in-xs").addClass("hidden"),$("#sign-in").addClass("hidden"),$("#sign-up").addClass("hidden"),$(".crp-showcase form").addClass("hidden"),$.ajax({url:api_url+"get-token-info",data:{},type:"GET",beforeSend:function(a){a.setRequestHeader("Authorization",$.cookie("token"))},success:function(a){if(a.user.tenant){$("#user-name").text(a.user.tenant.tenant_name),$("#user-name-xs").removeClass("hidden").children().text(a.user.tenant.tenant_name),$("#dashboard").removeClass("hidden");var b=new Date(a.user.created_at).getTime()/1e3-28800,c=a.user.tenant.tenant_name,d=a.user.user_id;$.ajax({url:api_url+"users/connections",type:"GET",beforeSend:function(a){a.setRequestHeader("Authorization",$.cookie("token"))},success:function(a){for(email=null,i=0;i<a.user.connections.length;i++)"email"==a.user.connections[i].connect_type&&(email=a.user.connections[i].connect_value);daovoice("init",{app_id:"91af7bf3",user_id:d,email:email,name:c,signed_up:b}),daovoice("update")},error:function(){daovoice("init",{app_id:"91af7bf3",user_id:a.uid,name:a.user.username}),daovoice("update")}})}},error:function(a,b,c){var d=a.status;401!=d&&404!=d||($.removeCookie("token",{path:"/"}),$("#sign-up-xs").removeClass("hidden"),$("#sign-in-xs").removeClass("hidden"),$("#sign-in").removeClass("hidden"),$("#sign-up").removeClass("hidden"),$(".crp-showcase form").removeClass("hidden")),daovoice("init",{app_id:"91af7bf3"}),daovoice("update")}})):($("#user-name").addClass("hidden"),$("#user-name-xs").addClass("hidden"),$("#dashboard").addClass("hidden"),daovoice("init",{app_id:"91af7bf3"}),daovoice("update"));try{$(".navbar").headroom({offset:1e3,tolerance:5,classes:{initial:"animated",pinned:"slideInDown",unpinned:"slideOutUp"}})}catch(a){}try{var b=new CountUp("stopwatch1",0,25922),c=new CountUp("stopwatch2",0,163233),d=new CountUp("stopwatch3",0,251484);b.start(),c.start(),d.start()}catch(a){}$("#githubAuth").click(function(){var a="https://github.com/login/oauth/authorize?client_id="+githubClientId+"&scope=user:email,repo&state=",b=api_url+"v1/github-redirect?redirect-url="+account_url+"signup-with-github",a=a+"&redirect_uri="+b;window.location.href=a}),$("#wechatAuth").click(function(){window.location.href=account_url+"qrcode"});try{$("#carousel").slick({dots:!0,dotsClass:"slick-tab",appendDots:$("#feature-tab"),mobileFirst:!0}),$("#feature-tab li button").eq(0).html('<i class="icon-businese"></i>&nbsp;&nbsp;企业'),$("#feature-tab li button").eq(1).html('<i class="icon-developer"></i>&nbsp;&nbsp;开发者');var e=window.innerWidth>1024?1024:window.innerWidth,f=e/16*9,g=videojs("bootdev-video",{width:e,height:f});$("#video-start").on("click",function(){$(".video-modal").addClass("visible").animate({opacity:"1"},500),g.play()}),$(".video-modal .close").on("click",function(){$(".video-modal").animate({opacity:"0"},500,function(){$(".video-modal").removeClass("visible"),g.pause()})})}catch(a){}}),function(){var a=$("#community"),b=$("#profession"),c=$("#enterprise"),d=$("#divider");$("#community-more").click(function(){p=0,d.removeClass("hidden"),b.addClass("hidden"),c.addClass("hidden"),a.removeClass("hidden"),$("#community-btn").click(),$("html, body").animate({scrollTop:a.offset().top},500)}),$("#profession-more").click(function(){p=1,d.removeClass("hidden"),a.addClass("hidden"),c.addClass("hidden"),b.removeClass("hidden"),$("#profession-btn").click(),$("html, body").animate({scrollTop:b.offset().top},500)}),$("#enterprise-more").click(function(){p=2,d.removeClass("hidden"),a.addClass("hidden"),b.addClass("hidden"),c.removeClass("hidden"),$("#enterprise-btn").click(),$("html, body").animate({scrollTop:c.offset().top},500)}),$("#community-more2").click(function(){$("#community-more").click()}),$("#profession-more2").click(function(){$("#profession-more").click()}),$("#enterprise-more2").click(function(){$("#enterprise-more").click()});var e=document.querySelectorAll("input[type=range]"),f=e.length,g=document.createElement("style"),h=[],i=[{value:1,price:100-1},{value:2,price:200-2},{value:5,price:500-5},{value:8,price:800-8},{value:10,price:1000/2},{value:16,price:1600/2},{value:25,price:2500/2},{value:50,price:5000/2},{value:75,price:7500/2},{value:100,price:10000/3},{value:150,price:15000/3},{value:200,price:20000/4},{value:300,price:30000/4},{value:500,price:50000/4}],j=[{value:1,price:30},{value:2,price:60},{value:5,price:120},{value:10,price:250},{value:20,price:499},{value:30,price:589},{value:50,price:899},{value:75,price:1189},{value:100,price:1999}];document.body.appendChild(g);for(var k=0;f>k;k++)h.push(""),e[k].addEventListener("input",function(){var a,b=this.id,c=this.id.split("range")[1]-1,d=parseInt($("#"+this.id).css("width")),e=this.min||0,f=this.max||0,k="",l=this.value;if(a=(this.value-e)/(f-e)*(d-20)+10,k+="#"+this.id+"::-webkit-slider-runnable-track:after{width:"+a+"px}",h[c]=k,g.textContent=h.join(""),this.classList.contains("quota-x"))switch($("."+b+"-value").text(i[l].value),$("."+b+"-price").text(i[l].price),b){case"range1":$("."+b+"-total").text(i[l].price);break;case"range3":$("."+b+"-total").text(i[l].price+parseInt($(".range2-price").text()));break;case"range4":$("."+b+"-total").text(i[l].price+parseInt($(".radio-price").text()));break;default:return}if(this.classList.contains("cd"))switch($("."+b+"-value").text(j[l].value),$("."+b+"-price").text(j[l].price),b){case"range2":$("."+b+"-total").text(j[l].price+parseInt($(".range3-price").text()));break;default:return}},!1);for(var l=document.querySelectorAll("input[type=radio]"),k=0;k<l.length;k++){var m=$(".radio .radio-box");enterpriseDescription=$(".enterprise-description").children("ul"),l[k].addEventListener("change",function(){for(var a=this.id,b=0;b<m.length;b++)$(enterpriseDescription[b]).addClass("hidden"),$(m[b]).removeClass("checked");if($("#"+a).parents(".radio-box").addClass("checked"),$("#"+a+"-description").removeClass("hidden"),$(".radio-size").text($("#"+a).prop("title")),"radio4"!==a){var c=parseInt($("#"+a).val());total=parseInt($(".range4-price").text())+c,$(".radio-price").length>0?($(".radio-price").text(c),$(".range4-total").text(total)):($(".radio-price-container").html("<span class='radio-price'>"+c+"</span> 元 <small>/ 月</small>"),$(".radio-total-container").html("<span class='range4-total'>"+total+"</span> 元 <small>/ 月</small></span>"),$("#enterprise .signup").text("免费注册").click(n))}else $(".radio-price-container").text("联系我们"),$(".radio-total-container").text("联系我们"),$("#enterprise .signup").text("联系我们").click(o)},!1)}var n=function(){window.location=account_url+"signup"},o=function(){window.location.href="mailto:info@bootdev.com"};$(".signup").click(n),$('[data-toggle="tooltip"]').tooltip();var p=0,q=!1,r=function(){$("#btn-group").addClass("hidden");for(var a=0;4>a;a++)$("#header-"+a).prop("colspan",1);$(".strong td").prop("colspan",4),q=!1},s=function(a){$("#btn-group").removeClass("hidden");for(var b=0;4>b;b++)$("#header-"+b).prop("colspan",2);for(var b=1;3>b;b++){var c=(a+b)%3,d=c+2;$("#table tbody tr td:nth-of-type("+d+")").addClass("js-is-hidden"),$("#header-"+c).addClass("js-is-hidden")}$("#header-3").addClass("js-is-hidden"),$(".strong td").prop("colspan",2),q=!0},t=function(a,b){$("#header-"+a).addClass("js-is-hidden"),$("#header-"+b).removeClass("js-is-hidden"),$("#table tbody tr td:nth-of-type("+(a+2)+")").addClass("js-is-hidden"),$("#table tbody tr td:nth-of-type("+(b+2)+")").removeClass("js-is-hidden"),p=b};$(window).on("resize",function(){for(var a=0;f>a&&!d[0].classList.contains("hidden");a++){var b,c,i=e[a],j=(i.id,i.id.split("range")[1]-1),k=i.min||0,l=i.max||0,m="";i.value;switch(p){case 0:b=parseInt($("#range1").css("width"));break;case 1:b=parseInt($("#range2").css("width"));break;case 2:b=parseInt($("#range4").css("width"))}c=(i.value-k)/(l-k)*(b-20)+10,m+="#"+i.id+"::-webkit-slider-runnable-track:after{width:"+c+"px}",h[j]=m,g.textContent=h.join("")}var b=window.innerWidth;if(992>b){if(q)return;s(p)}else q&&r(p)}),$("#community-btn").click(function(){t(p,0),u(),$("#community-btn").addClass("selected"),$("#profession-btn").removeClass("selected"),$("#enterprise-btn").removeClass("selected"),d[0].classList.contains("hidden")||(b.addClass("hidden"),c.addClass("hidden"),a.removeClass("hidden"))}),$("#profession-btn").click(function(){t(p,1),u(),$("#community-btn").removeClass("selected"),$("#profession-btn").addClass("selected"),$("#enterprise-btn").removeClass("selected"),d[0].classList.contains("hidden")||(a.addClass("hidden"),c.addClass("hidden"),b.removeClass("hidden"))}),$("#enterprise-btn").click(function(){t(p,2),u(),$("#community-btn").removeClass("selected"),$("#profession-btn").removeClass("selected"),$("#enterprise-btn").addClass("selected"),d[0].classList.contains("hidden")||(a.addClass("hidden"),b.addClass("hidden"),c.removeClass("hidden"))}),$(".plan-arrow-left").click(function(){switch(p){case 1:$("#community-btn").click();break;case 2:$("#profession-btn").click()}}),$(".plan-arrow-right").click(function(){switch(p){case 0:$("#profession-btn").click();break;case 1:$("#enterprise-btn").click()}});var u=function(){var a=$(".plan-arrow-left-text"),b=$(".plan-arrow-left"),c=$(".plan-arrow-right-text"),d=$(".plan-arrow-right");0===p?(a.text(""),b.addClass("hidden"),c.text("了解专业版"),d.removeClass("hidden")):1===p?(a.text("了解社区版"),b.removeClass("hidden"),c.text("了解企业版"),d.removeClass("hidden")):2===p&&(a.text("了解专业版"),b.removeClass("hidden"),c.text(""),d.addClass("hidden"))};$(document).ready(function(){$(window).resize()})}();
